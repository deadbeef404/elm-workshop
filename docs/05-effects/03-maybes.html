<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="generator" content="Hugo 0.29" />
    <meta name="description" content="Elm Workshop">
<meta name="author" content="Sebastian Porto">

    <title>Maybes :: Elm Workshop</title>
    <link rel="shortcut icon" href="../images/favicon.png" type="image/x-icon" />
    <link href="../css/nucleus.css" rel="stylesheet">
    <link href="../css/font-awesome.min.css" rel="stylesheet">
    <link href="../css/hybrid.css" rel="stylesheet">
    <link href="../css/featherlight.min.css" rel="stylesheet">
    <link href="../css/horsey.css" rel="stylesheet">
    
    <link href="../css/theme.css" rel="stylesheet">
    
    
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <script src="../js/jquery-2.x.min.js"></script>
    <style type="text/css">
      :root #header + #content > #left > #rlblock_left {
        display:none !important;
      }
    </style>

    

    <link rel="stylesheet" type="text/css" href="./agate.css" />
<style type="text/css">
	#top-bar {
		display: none;
	}

	#TableOfContents {
		display: none;
	}

	#sidebar ul.topics ul {
		display: initial;
	}
</style>
  </head>
  <body class="" data-url="/05-effects/03-maybes.html">
    <nav id="sidebar" class="">





<div class="highlightable">
  <div id="header-wrapper">
    <div id="header">
       
	<p>Elm Workshop</p>
 


    </div>
    
  </div>

  
    <ul class="topics">
        
        
        
          
          


 
  
    
    <li data-nav-id="/01-introduction.html" class="dd-item 
        
        
        
        ">
      <a href="../01-introduction.html">
        <span>Introduction</span>

        
        

          
            <i class="fa fa-angle-right fa-lg category-icon"></i>
          

        

        
      </a>
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/01-introduction/01-what-is-elm.html" class="dd-item
     
      ">
        <a href="../01-introduction/01-what-is-elm.html">
        <span>What is Elm</span> 
        
        </a></li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/01-introduction/02-why-elm.html" class="dd-item
     
      ">
        <a href="../01-introduction/02-why-elm.html">
        <span>Why Elm</span> 
        
        </a></li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/01-introduction/03-functions.html" class="dd-item
     
      ">
        <a href="../01-introduction/03-functions.html">
        <span>Functions</span> 
        
        </a></li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/02-hello-world.html" class="dd-item 
        
        
        
        ">
      <a href="../02-hello-world.html">
        <span>Hello World</span>

        
        

          
            <i class="fa fa-angle-right fa-lg category-icon"></i>
          

        

        
      </a>
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/02-hello-world/01-setup.html" class="dd-item
     
      ">
        <a href="../02-hello-world/01-setup.html">
        <span>Setup</span> 
        
        </a></li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/02-hello-world/02-first-app.html" class="dd-item
     
      ">
        <a href="../02-hello-world/02-first-app.html">
        <span>Your first app</span> 
        
        </a></li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/02-hello-world/03-exercise.html" class="dd-item
     
      ">
        <a href="../02-hello-world/03-exercise.html">
        <span>Exercise</span> 
        
        </a></li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/03-tea.html" class="dd-item 
        
        
        
        ">
      <a href="../03-tea.html">
        <span>The Elm Architecture</span>

        
        

          
            <i class="fa fa-angle-right fa-lg category-icon"></i>
          

        

        
      </a>
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/03-tea/01-intro.html" class="dd-item
     
      ">
        <a href="../03-tea/01-intro.html">
        <span>The Elm Architecture</span> 
        
        </a></li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/03-tea/02-structure.html" class="dd-item
     
      ">
        <a href="../03-tea/02-structure.html">
        <span>Structure</span> 
        
        </a></li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/03-tea/03-breakdown.html" class="dd-item
     
      ">
        <a href="../03-tea/03-breakdown.html">
        <span>TEA Breakdown</span> 
        
        </a></li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/03-tea/04-breakdown-messages.html" class="dd-item
     
      ">
        <a href="../03-tea/04-breakdown-messages.html">
        <span>Messages</span> 
        
        </a></li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/03-tea/05-breakdown-view.html" class="dd-item
     
      ">
        <a href="../03-tea/05-breakdown-view.html">
        <span>View</span> 
        
        </a></li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/03-tea/06-breakdown-update.html" class="dd-item
     
      ">
        <a href="../03-tea/06-breakdown-update.html">
        <span>Update</span> 
        
        </a></li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/03-tea/07-breakdown-main.html" class="dd-item
     
      ">
        <a href="../03-tea/07-breakdown-main.html">
        <span>Program</span> 
        
        </a></li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/03-tea/08-exercise.html" class="dd-item
     
      ">
        <a href="../03-tea/08-exercise.html">
        <span>Exercise</span> 
        
        </a></li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/04-interaction.html" class="dd-item 
        
        
        
        ">
      <a href="../04-interaction.html">
        <span>Interaction</span>

        
        

          
            <i class="fa fa-angle-right fa-lg category-icon"></i>
          

        

        
      </a>
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/04-interaction/01-start.html" class="dd-item
     
      ">
        <a href="../04-interaction/01-start.html">
        <span>Start</span> 
        
        </a></li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/04-interaction/02-flow.html" class="dd-item
     
      ">
        <a href="../04-interaction/02-flow.html">
        <span>Flow</span> 
        
        </a></li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/04-interaction/03-message.html" class="dd-item
     
      ">
        <a href="../04-interaction/03-message.html">
        <span>Messages</span> 
        
        </a></li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/04-interaction/04-update.html" class="dd-item
     
      ">
        <a href="../04-interaction/04-update.html">
        <span>Update</span> 
        
        </a></li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/04-interaction/05-exercise.html" class="dd-item
     
      ">
        <a href="../04-interaction/05-exercise.html">
        <span>Exercise</span> 
        
        </a></li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/05-effects.html" class="dd-item 
        parent
        
        
        ">
      <a href="../05-effects.html">
        <span>Tasks &amp; Subscriptions</span>

        
        

          
            <i class="fa fa-angle-down fa-lg category-icon"></i>
          

        

        
      </a>
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/05-effects/01-intro.html" class="dd-item
     
      ">
        <a href="../05-effects/01-intro.html">
        <span>The Outside World</span> 
        
        </a></li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/05-effects/02-start.html" class="dd-item
     
      ">
        <a href="../05-effects/02-start.html">
        <span>Start the Clock</span> 
        
        </a></li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/05-effects/03-maybes.html" class="dd-item
     active
      ">
        <a href="../05-effects/03-maybes.html">
        <span>Maybes</span> 
        
        </a></li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/05-effects/04-tasks.html" class="dd-item
     
      ">
        <a href="../05-effects/04-tasks.html">
        <span>Tasks</span> 
        
        </a></li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/05-effects/05-format-time.html" class="dd-item
     
      ">
        <a href="../05-effects/05-format-time.html">
        <span>Format Time</span> 
        
        </a></li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/05-effects/06-subscriptions.html" class="dd-item
     
      ">
        <a href="../05-effects/06-subscriptions.html">
        <span>Subscriptions</span> 
        
        </a></li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/05-effects/07-exercise.html" class="dd-item
     
      ">
        <a href="../05-effects/07-exercise.html">
        <span>Exercise</span> 
        
        </a></li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/06-conclusion.html" class="dd-item 
        
        
        
        ">
      <a href="../06-conclusion.html">
        <span>Conclusion</span>

        
        

        
      </a>
              
    </li>
  
 

          
        

        
        <section id="shortcuts">
            
                <li class="" role="">
                    <h3>More</h3>
                    <a href="https://github.com/sporto/elm-workshop"><i class='fa fa-github'></i> Github repo</a>
                    
                </li>
            
        </section>    
        
        

        
    </ul>
    
     
    <section id="footer">
      
    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
        
          <div id="top-bar">
            
              
              
              
            <div id="top-github-link">
              <a class="github-link" href="https://github.com/sporto/elm-workshop05-effects/03-maybes.md" target="blank">
                <i class="fa fa-code-fork"></i>
                Edit page
              </a>
            </div>
              
            

            <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                <span id="sidebar-toggle-span">
                  <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                    <i class="fa fa-bars"></i>
                  </a>
                </span>
                <span id="toc-menu"><i class="fa fa-list-alt"></i></span>
                <span class="links">
                







 <a href='../'></a> > <a href='../05-effects.html'>Tasks & Subscriptions</a> > Maybes

 

 

   
                </span>
            </div>
            <div class="progress">
    <div class="wrapper">

    </div>
</div>

          </div>
        
        
        <div id="body-inner">
          
            <h1>Maybes</h1>
          




<p>If this were JavaScript,
and we wanted to represent the state
where we are waiting to get the current time,
we might write this <code>init</code> function:</p>

<pre><code class="language-elm">init : ( Model, Cmd Msg )
init =
    ( { time = null }, Cmd.none )
</code></pre>

<p>But Elm doesn’t let you
set any old variable to a “nothing” value like this.
The ability to do this in JavaScript
is by far the greatest source of bugs
in JavaScript programs.
When a variable that you expect to hold a value
actually contains a “nothing” value like <code>null</code> or <code>undefined</code>,
your program crashes
with an “undefined is not a function” error.</p>

<p>By preventing you from setting any variable to <code>null</code>,
Elm can guarantee that this kind of error will never happen
in your Elm programs.</p>

<p>But of course, sometimes you really do have “nothing”!
Until we are able to get the current time,
our program simply can’t tell what time it is.
To represent this, Elm has the <code>Maybe</code> type:</p>

<pre><code class="language-elm">type Maybe something
    = Nothing
    | Just something
</code></pre>

<p>(Don’t add this type to your program!
It’s already built into Elm.)</p>

<p>A <code>Maybe</code> type represents
a value that is either not present (<code>Nothing</code>)
or present (<code>Just something</code>).
Whenever you use a <code>Maybe</code>,
you get to choose what the <code>something</code> type is.
In our program,
we have need of a value that is either “nothing” or
“just” a <code>Time</code> value.
So what we want is a <code>Maybe Time</code>.</p>

<p>Let’s update our <code>Model</code> type
to contain a <code>Maybe Time</code> instead of a <code>Time</code>:</p>

<pre><code class="language-elm">type alias Model =
    { time : Maybe Time }
</code></pre>

<p>Now we can get our <code>init</code> function to compile
by setting the initial value of the <code>time</code> field
to <code>Nothing</code>:</p>

<pre><code class="language-elm">init : ( Model, Cmd Msg )
init =
    ( { time = Nothing }, Cmd.none )
</code></pre>

<p>Compile and run the program
to make sure everything is working.
Our <code>view</code> function will display this initial value (<code>Nothing</code>).</p>

<p>Since this doesn’t look great,
let’s improve our <code>view</code> function a little
to better handle this “nothing” case.</p>

<p>We can use a <code>case</code> statement
in our <code>view</code> function
to handle separately the different possible values
of our <code>Model</code>.
Since our program only contains a <code>Nothing</code> value so far,
let’s start by handling that:</p>

<pre><code class="language-elm">view : Model -&gt; Html Msg
view model =
    case model.time of
        Nothing -&gt;
            text &quot;Loading…&quot;
</code></pre>

<p>Save and run this,
and the compiler will tell you
that you haven’t accounted for all possible values of <code>model.time</code>.
We have told Elm that <code>model.time</code> is a <code>Maybe Time</code>,
so it requires us to handle every possible value of that type.
Again, Elm is making sure that
our programs will never crash as a result of a value
being something other than we expect it to be.</p>

<p>The error message says that
the value we have failed to handle is <code>Maybe.Just _</code>.
So we could add this branch to our <code>case</code> statement,
using the previous code we had written to output the time:</p>

<pre><code class="language-elm">        Maybe.Just _ -&gt;
            text (toString model.time)
</code></pre>

<p>This is a little more verbose than necessary, though.
Elm automatically makes all values in the <code>Maybe</code> module
available to us in every module that we write.
So instead of <code>Maybe.Just</code>, we can just say <code>Just</code>:</p>

<pre><code class="language-elm">        Just _ -&gt;
            text (toString model.time)
</code></pre>

<p>That underscore (<code>_</code>) represents the <code>Time</code> value
that is wrapped in this <code>Maybe</code> type.
The underscore tells Elm that
we aren’t interested in this value.
We’ll come back and tweak this
once we have an actual <code>Time</code> value
for our program to display.</p>

<p>For now, our <code>view</code> function should look like this:</p>

<pre><code class="language-elm">view : Model -&gt; Html Msg
view model =
    case model.time of
        Nothing -&gt;
            text &quot;Loading…&quot;

        Just _ -&gt;
            text (toString model.time)
</code></pre>

<p>Run the program and confirm that it shows “Loading…”.</p>

<p>Now we’re ready to get back to the task of
fetching the current time.</p>


<footer class=" footline" >
	
</footer>



      </div>
    </div>

    
 
    

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


        
            <a class="nav nav-prev" href="../05-effects/02-start.html" title="Start the Clock"> <i class="fa fa-chevron-left"></i></a>
        
        
            <a class="nav nav-next" href="../05-effects/04-tasks.html" title="Tasks" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
        
    </div>

    </section>
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="../js/clipboard.min.js"></script>
    <script src="../js/featherlight.min.js"></script>
    <script src="../js/html5shiv-printshiv.min.js"></script>
    <script src="../js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="../js/modernizr.custom.71422.js"></script>
    <script src="../js/learn.js"></script>
    <script src="../js/hugo-learn.js"></script>

    
    <link href="../mermaid/mermaid.css" type="text/css" rel="stylesheet"/>
    <script src="../mermaid/mermaid.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    

    
  </body>
</html>

